<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
  <div class="container">
<!--    <form action="/home/" method="post" id="myForm">  -->
   <form> 
    <table border=2 cellspacing="10" cellpadding="10">
      <tr>
          <th>ID</th>
          <th>NAME</th>
          <th>SELECt</th>
          <!-- <input type="hidden" name="q" value="a"> -->
<!--           <th>IMAGE</th>
          <th>PRICE</th>
          <th>DESCRIPTION</th>
          <th>SELLER</th>
 -->      </tr>
  </table>
 </form>
  </div>
<title>students api</title>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 </head>
<body>

<button class="apireq">click me </button>
</div>
<div id="jsonresp" style="margin-top: 100px">
   <p><label></label> <span id="pname"></span></p>
   <p><label></label> <span id="price"></span></p>
   <p><label></label> <span id="owner"></span></p>
   <p><label></label> <span id="product_detail"></span></p>
</div>
    <script>
    // $('.apireq').click( function() {
    // var ajax = $.ajax({
    //          url : "http://localhost:8000/products/",
    //          type:"GET"
    //          dataType: "json",
    //          success : function (data) {
    //                   $('#id').text( data[0].id);
    //                   $('#name').text( data[0].name);
    //                   $('#price').text( data[0].price);
    //                   $('#owner').text( data[0].owner);
    //                   $('#product_detail').text( data[0].product_detail);
    //                        }
    //              });
    //          });    
      </script>
    <script>
         fetch('http://localhost:8000/products/')
             .then(function (response){
                 return response.json();
             })
             .then(function (data) {
                 appendData(data);
             })
             .catch(function (err) {
                 console.log('error: ' + err);
             });
         function appendData(data) {
             var mainContainer = document.getElementById("myData");
             var tr;
             for (var i = 0; i < data.length; i++) {
                 debugger;
                 tr = $('<tr/>');
                 tr.append("<td>" + data[i].id + "</td>");
                 tr.append("<td>" + data[i].name + "</td>");
                 // tr.append("<td>" + data[i].price + "</td>");
                 // var mylink = "SnippetDetail/" + 'data[i].id'
                 var url = "products/"+data[i].id;
                 // var url = "cart/"+data[i].id
                 tr.append("<a href = " + url +">" + 'ShowDetail' + '</a>')
                 $('table').append(tr);
             }
         } 

      </script>
</body>
</html>

